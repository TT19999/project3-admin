{"ast":null,"code":"import _defineProperty from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\src\\\\pages\\\\UserDetail.js\";\nimport React from 'react';\nimport * as StringConstant from './String';\nimport axios from 'axios';\nimport Typography from \"@material-ui/core/Typography\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport { Button, ButtonGroup } from '@material-ui/core';\n\nvar useStyles = function useStyles(theme) {\n  return {\n    table: {\n      minWidth: 650\n    }\n  };\n};\n\nvar UserDetail = /*#__PURE__*/function (_React$Component) {\n  _inherits(UserDetail, _React$Component);\n\n  function UserDetail(props) {\n    var _this;\n\n    _classCallCheck(this, UserDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserDetail).call(this, props));\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.onClickBan = function (event) {\n      axios({\n        method: 'DELETE',\n        url: '/api/admin/user/delete',\n        data: {\n          \"id\": event\n        },\n        headers: {\n          Authorization: \"Bearer\" + localStorage.getItem(\"token\")\n        }\n      }).then(function (res) {\n        window.location.reload();\n      });\n    };\n\n    _this.onClickUnBan = function (event) {\n      axios({\n        method: 'POST',\n        url: '/api/admin/user/restore',\n        data: {\n          \"id\": event\n        },\n        headers: {\n          Authorization: \"Bearer\" + localStorage.getItem(\"token\")\n        }\n      }).then(function (res) {\n        window.location.reload();\n      });\n    };\n\n    _this.state = {\n      user: [],\n      role: '',\n      profile: [],\n      categories: [],\n      posts: []\n    };\n    return _this;\n  }\n\n  _createClass(UserDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // axios({\n      //     method: 'GET',\n      //     url: 'https://mighty-retreat-21374.herokuapp.com/api/admin/user' + localStorage.getItem(\"token\") + '&user_id=' + localStorage.getItem(\"admin_user\"),\n      //     data: null\n      // }).then((response) => {\n      //     // handle success\n      //     console.log(response.data);\n      //     // this.state.name = response.name;\n      //     // this.state.email = response.email;\n      //     this.setState({\n      //         user: response.data.user,\n      //         role: response.data.role.name\n      //     }\n      //     )\n      // }).catch((error) => {\n      //     // handle error\n      //     console.log(error);\n      // });\n      axios({\n        method: 'GET',\n        url: '/api/admin/user/show',\n        headers: {\n          Authorization: \"Bearer\" + localStorage.getItem(\"token\")\n        },\n        params: {\n          id: localStorage.getItem(\"admin_user\")\n        }\n      }).then(function (res) {\n        console.log(res.data);\n\n        if (res.status === 200) {\n          _this2.setState({\n            user: res.data.user,\n            profile: res.data.user.profile,\n            skill: res.data.user.skills,\n            categories: res.data.user.categories,\n            posts: res.data.user.sets\n          });\n\n          console.log(_this2.state.user);\n        }\n      }).catch(function (errors) {\n        console.log(errors.response);\n        alert(errors.response.data.errors);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var classes = useStyles();\n      if (this.state === null) return null;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"avatar\",\n        alt: \"avatar\",\n        src: this.state.profile.avatar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        variant: \"row mt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        variant: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        id: \"tableTitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 29\n        }\n      }, \"User Informations\", /*#__PURE__*/React.createElement(ButtonGroup, {\n        size: \"small\",\n        \"aria-label\": \"small outlined button group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 31\n        }\n      }, this.state.user.deleted_at ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return _this3.onClickUnBan(_this3.state.user.id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 31\n        }\n      }, \"  UnBan\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: function onClick() {\n          return _this3.onClickBan(_this3.state.user.id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 31\n        }\n      }, \"   Ban\")))), /*#__PURE__*/React.createElement(TableContainer, {\n        component: Paper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        className: classes.table,\n        \"aria-label\": \"simple table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(TableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 45\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 45\n        }\n      }, this.state.user.name)), /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 45\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 45\n        }\n      }, this.state.user.email)), /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 45\n        }\n      }, \"Subject\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 45\n        }\n      }, this.state.profile.subject, \" \")), /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 45\n        }\n      }, \"Github\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 45\n        }\n      }, this.state.profile.github)), /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 45\n        }\n      }, \"Facebok\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 45\n        }\n      }, this.state.profile.facebook)), /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 45\n        }\n      }, \"Twitter\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 45\n        }\n      }, this.state.profile.twitter)), /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 45\n        }\n      }, \"website\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 45\n        }\n      }, this.state.profile.website)), /*#__PURE__*/React.createElement(TableRow, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 45\n        }\n      }, \"status\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 45\n        }\n      }, this.state.profile.status))))))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        id: \"tableTitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }\n      }, \"Sets \", this.state.user.sets_count), this.state.posts ? this.state.posts.map(function (post) {\n        return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: '/admin/home/category/' + post.id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 41\n          }\n        }, post.name)));\n      }) : /*#__PURE__*/React.createElement(React.Fragment, null)));\n    }\n  }]);\n\n  return UserDetail;\n}(React.Component);\n\nexport default UserDetail;","map":{"version":3,"sources":["F:/xampp/htdocs/BtlCNWeb/Admin/src/pages/UserDetail.js"],"names":["React","StringConstant","axios","Typography","Table","TableBody","TableCell","TableRow","Paper","TableContainer","Button","ButtonGroup","useStyles","theme","table","minWidth","UserDetail","props","onChange","event","setState","target","name","value","onClickBan","method","url","data","headers","Authorization","localStorage","getItem","then","res","window","location","reload","onClickUnBan","state","user","role","profile","categories","posts","params","id","console","log","status","skill","skills","sets","catch","errors","response","alert","classes","avatar","deleted_at","email","subject","github","facebook","twitter","website","sets_count","map","post","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport * as StringConstant from './String';\r\nimport axios from 'axios';\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport { Button, ButtonGroup } from '@material-ui/core';\r\n\r\nconst useStyles = theme => ({\r\n    table: {\r\n      minWidth: 650,\r\n    },\r\n  });\r\nclass UserDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: [],\r\n            role: '',\r\n            profile : [],\r\n            categories: [],\r\n            posts: [],\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // axios({\r\n        //     method: 'GET',\r\n        //     url: 'https://mighty-retreat-21374.herokuapp.com/api/admin/user' + localStorage.getItem(\"token\") + '&user_id=' + localStorage.getItem(\"admin_user\"),\r\n        //     data: null\r\n        // }).then((response) => {\r\n        //     // handle success\r\n        //     console.log(response.data);\r\n        //     // this.state.name = response.name;\r\n        //     // this.state.email = response.email;\r\n        //     this.setState({\r\n        //         user: response.data.user,\r\n        //         role: response.data.role.name\r\n        //     }\r\n        //     )\r\n        // }).catch((error) => {\r\n        //     // handle error\r\n        //     console.log(error);\r\n        // });\r\n        axios({\r\n            method:'GET',\r\n            url: '/api/admin/user/show',\r\n            headers : {\r\n                Authorization: \"Bearer\" + localStorage.getItem(\"token\")\r\n            },\r\n            params: {\r\n                id : localStorage.getItem(\"admin_user\")\r\n            },\r\n      }).then(res => {\r\n          console.log(res.data)\r\n          if(res.status === 200){\r\n              this.setState({\r\n                  user:res.data.user,\r\n                  profile: res.data.user.profile,\r\n                  skill : res.data.user.skills,\r\n                  categories : res.data.user.categories,\r\n                  posts : res.data.user.sets\r\n              })\r\n              console.log(this.state.user)\r\n          }\r\n      }).catch(errors => {\r\n        console.log(errors.response);\r\n        alert(errors.response.data.errors)\r\n      })\r\n    }\r\n\r\n    onChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    onClickBan=(event) =>{\r\n        axios({\r\n          method : 'DELETE',\r\n          url : '/api/admin/user/delete',\r\n          data : {\r\n            \"id\" : event\r\n          },\r\n          headers : {\r\n            Authorization: \"Bearer\" + localStorage.getItem(\"token\")\r\n          },\r\n        }).then(res =>{\r\n          window.location.reload()\r\n        })\r\n      }\r\n    \r\n      onClickUnBan=(event) =>{\r\n        axios({\r\n          method : 'POST',\r\n          url : '/api/admin/user/restore',\r\n          data : {\r\n            \"id\" : event\r\n          },\r\n          headers : {\r\n            Authorization: \"Bearer\" + localStorage.getItem(\"token\")\r\n          },\r\n        }).then(res =>{\r\n          window.location.reload()\r\n        })\r\n      }\r\n\r\n    render() {\r\n        const classes = useStyles();\r\n        if (this.state === null) return null;\r\n\r\n        return (\r\n            <div>\r\n                {/* <div className=\"banner\" style={{ backgroundImage: \"url(\" + StringConstant.IMAGE_PATH + this.state.profile.cover + \")\" }}></div> */}\r\n                <img className=\"avatar\" alt=\"avatar\" src={this.state.profile.avatar} />\r\n                <div >\r\n                    <div variant=\"row mt-5\">\r\n                        <div variant=\"col-6\">\r\n                            <br></br>\r\n                            <Typography variant=\"h6\" id=\"tableTitle\">\r\n                              User Informations     \r\n                              <ButtonGroup size=\"small\" aria-label=\"small outlined button group\">\r\n                              {this.state.user.deleted_at ? \r\n                              <>\r\n                              <Button variant=\"contained\" color=\"primary\" onClick={()=>this.onClickUnBan(this.state.user.id)}>  UnBan</Button>\r\n                                </>\r\n                            :\r\n                            <>\r\n                              <Button variant=\"contained\" color=\"secondary\" onClick={()=>this.onClickBan(this.state.user.id)}>   Ban</Button>\r\n                            </> \r\n                              }\r\n                            </ButtonGroup>\r\n                              \r\n                            </Typography>\r\n                            <TableContainer component={Paper}>\r\n                                <Table className={classes.table} aria-label=\"simple table\">\r\n                                    <TableBody>\r\n                                        <TableRow>\r\n                                            <TableCell component=\"th\" scope=\"row\">Name</TableCell>\r\n                                            <TableCell>{this.state.user.name}</TableCell>\r\n                                        </TableRow>\r\n                                        <TableRow>\r\n                                            <TableCell component=\"th\" scope=\"row\">Email</TableCell>\r\n                                            <TableCell>{this.state.user.email}</TableCell>\r\n                                        </TableRow>\r\n                                        <TableRow>\r\n                                            <TableCell component=\"th\" scope=\"row\">Subject</TableCell>\r\n                                            <TableCell>{this.state.profile.subject} </TableCell>\r\n                                        </TableRow>\r\n                                        <TableRow>\r\n                                            <TableCell component=\"th\" scope=\"row\">Github</TableCell>\r\n                                            <TableCell>{this.state.profile.github}</TableCell>\r\n                                        </TableRow>\r\n                                        <TableRow>\r\n                                            <TableCell component=\"th\" scope=\"row\">Facebok</TableCell>\r\n                                            <TableCell>{this.state.profile.facebook}</TableCell>\r\n                                        </TableRow>\r\n                                        <TableRow>\r\n                                            <TableCell component=\"th\" scope=\"row\">Twitter</TableCell>\r\n                                            <TableCell>{this.state.profile.twitter}</TableCell>\r\n                                        </TableRow>\r\n                                        <TableRow>\r\n                                            <TableCell component=\"th\" scope=\"row\">website</TableCell>\r\n                                            <TableCell>{this.state.profile.website}</TableCell>\r\n                                        </TableRow>\r\n                                        <TableRow>\r\n                                            <TableCell component=\"th\" scope=\"row\">status</TableCell>\r\n                                            <TableCell>{this.state.profile.status}</TableCell>\r\n                                        </TableRow>\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        \r\n                        </div>\r\n    \r\n                    </div>\r\n                    <br></br>\r\n                    \r\n                    <Typography variant=\"h6\" id=\"tableTitle\">\r\n                        Sets {this.state.user.sets_count}\r\n                    </Typography>\r\n                    {\r\n                        this.state.posts ? \r\n                        this.state.posts.map(post => {\r\n                            return <>\r\n                                    <h2>\r\n                                        <a href={'/admin/home/category/'+post.id}>\r\n                                            {post.name}\r\n                                        </a>\r\n                                        </h2> \r\n                                    </>\r\n                        })\r\n                        \r\n                        :\r\n                        <>\r\n                        </>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default UserDetail;"]},"metadata":{},"sourceType":"module"}