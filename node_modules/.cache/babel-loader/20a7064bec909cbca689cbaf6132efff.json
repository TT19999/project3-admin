{"ast":null,"code":"import _classCallCheck from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\src\\\\pages\\\\Comment\\\\ListComment.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Comment from './Comment';\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableContainer from '@material-ui/core/TableContainer';\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Paper from '@material-ui/core/Paper';\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { TableCell } from '@material-ui/core';\n\nvar ListComment = /*#__PURE__*/function (_React$Component) {\n  _inherits(ListComment, _React$Component);\n\n  function ListComment(props) {\n    var _this;\n\n    _classCallCheck(this, ListComment);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListComment).call(this, props));\n\n    _this.deleteComment = function (event, id) {\n      id = String(id);\n      console.log(\"id\");\n      console.log(id);\n      event.preventDefault();\n      axios({\n        method: 'DELETE',\n        url: 'https://mighty-retreat-21374.herokuapp.com/api/comment/delete/' + id + \"?token=\" + localStorage.getItem(\"token\")\n      }).then(function (response) {\n        // handle success\n        console.log(response.data); // this.state.name = response.name;\n\n        window.location.reload();\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      listComment: []\n    };\n    return _this;\n  }\n\n  _createClass(ListComment, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios({\n        method: 'GET',\n        url: '/api/set/' + this.props.trip_id + '/comment',\n        data: null,\n        headers: {\n          Authorization: \"Bearer\" + localStorage.getItem(\"token\")\n        }\n      }).then(function (response) {\n        // handle success\n        console.log('a'); // this.state.name = response.name;\n        // this.state.email = response.email;\n\n        _this2.setState({\n          listComment: response.data.comments\n        });\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var comments = this.state.listComment.map(function (comment, index) {\n        return /*#__PURE__*/React.createElement(TableRow, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(TableCell, {\n          style: {\n            width: \"95%\"\n          },\n          size: \"medium\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Comment, {\n          comment: comment,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }\n        })), /*#__PURE__*/React.createElement(IconButton, {\n          style: {\n            marginTop: 50\n          },\n          \"aria-label\": \"Delete\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(DeleteIcon, {\n          onClick: function onClick(event) {\n            return _this3.deleteComment(event, comment.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }\n        })));\n      });\n      return /*#__PURE__*/React.createElement(TableContainer, {\n        component: Paper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        \"aria-label\": \"simple table\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(TableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }\n      }, comments)));\n    }\n  }]);\n\n  return ListComment;\n}(React.Component);\n\nexport default ListComment;","map":{"version":3,"sources":["F:/xampp/htdocs/BtlCNWeb/Admin/src/pages/Comment/ListComment.js"],"names":["React","axios","Comment","TableRow","TableContainer","Table","TableBody","Paper","DeleteIcon","IconButton","TableCell","ListComment","props","deleteComment","event","id","String","console","log","preventDefault","method","url","localStorage","getItem","then","response","data","window","location","reload","catch","error","state","listComment","trip_id","headers","Authorization","setState","comments","map","comment","index","width","marginTop","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Comment from './Comment';\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { TableCell } from '@material-ui/core';\r\n\r\nclass ListComment extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listComment: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios({\r\n            method: 'GET',\r\n            url: '/api/set/' + this.props.trip_id + '/comment',\r\n            data: null,\r\n            headers : {\r\n                Authorization: \"Bearer\" + localStorage.getItem(\"token\")\r\n              },\r\n        }).then((response) => {\r\n            // handle success\r\n            console.log('a');\r\n            // this.state.name = response.name;\r\n            // this.state.email = response.email;\r\n            this.setState({\r\n                listComment: response.data.comments\r\n            })\r\n            \r\n        }).catch((error) => {\r\n            // handle error\r\n            console.log(error);\r\n        });\r\n    }\r\n    deleteComment = (event,id) =>{\r\n        id = String(id)\r\n        console.log(\"id\")\r\n        console.log(id)\r\n        event.preventDefault();\r\n        axios({\r\n            method: 'DELETE',\r\n            url: 'https://mighty-retreat-21374.herokuapp.com/api/comment/delete/' + id + \"?token=\" +  localStorage.getItem(\"token\"),\r\n        }).then((response) => {\r\n            // handle success\r\n            console.log(response.data);\r\n            // this.state.name = response.name;\r\n            window.location.reload();\r\n        }).catch((error) => {\r\n            // handle error\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let comments = this.state.listComment.map((comment, index) => {\r\n            return (\r\n                <TableRow>\r\n                    <TableCell style={{width:\"95%\"}} size=\"medium\">\r\n                    <Comment comment={comment} />\r\n                    </TableCell>\r\n                    <IconButton style={{marginTop: 50}} aria-label=\"Delete\">\r\n                        <DeleteIcon onClick={event => this.deleteComment(event, comment.id)}/>\r\n                    </IconButton>\r\n                </TableRow>\r\n                \r\n            )\r\n        })\r\n        return (\r\n            <TableContainer component={Paper}>\r\n            <Table aria-label=\"simple table\">\r\n                <TableBody>\r\n                {comments}\r\n                </TableBody>\r\n            \r\n            </Table>\r\n            </TableContainer>\r\n        )\r\n    }\r\n}\r\nexport default ListComment;"]},"metadata":{},"sourceType":"module"}