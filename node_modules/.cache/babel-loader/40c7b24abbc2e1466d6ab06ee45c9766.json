{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\admin\\\\src\\\\pages\\\\DashboardPage.js\";\nimport React from \"react\";\nimport NewOrders from \"../components/dashboard/NewOrders\";\nimport MonthlySales from \"../components/dashboard/MonthlySales\";\nimport RecentlyProducts from \"../components/dashboard/RecentlyProducts\";\nimport globalStyles from \"../styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Data from \"../data\";\nimport axios from 'axios';\n\nvar DashboardPage = /*#__PURE__*/function (_React$Component) {\n  _inherits(DashboardPage, _React$Component);\n\n  function DashboardPage(props) {\n    var _this;\n\n    _classCallCheck(this, DashboardPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DashboardPage).call(this, props));\n    _this.state = {\n      listOrderid: [],\n      listOrder: [],\n      listCity: [],\n      listOrderRecent: [],\n      listCityTrip: [],\n      show: false\n    };\n    return _this;\n  }\n\n  _createClass(DashboardPage, [{\n    key: \"haha\",\n    value: function () {\n      var _haha = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(city) {\n        var cont, i, listTrip_City, city_;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // for (var i =0;i<city.length;i++)\n                cont = true;\n                i = 0;\n                listTrip_City = [];\n\n              case 3:\n                cont = false;\n                city_ = city[i]; // this.haha(city_,listTrip_City);\n\n                _context.next = 7;\n                return axios({\n                  method: 'GET',\n                  url: '/api/categories' + city_.city,\n                  data: null\n                }).then(function (response) {\n                  // handle success\n                  console.log(\"abc\", response.data);\n                  var count = response.data.trips.length;\n                  listTrip_City.push({\n                    name: city_.city,\n                    trips: count\n                  });\n                  i++;\n                  cont = true;\n                }).catch(function (error) {\n                  // handle error\n                  console.log(error);\n                });\n\n              case 7:\n                if (i < city.length && cont === true) {\n                  _context.next = 3;\n                  break;\n                }\n\n              case 8:\n                this.setState({\n                  listCityTrip: listTrip_City,\n                  show: true\n                }); // this.setState({listCityTrip:listTrip_City})\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function haha(_x) {\n        return _haha.apply(this, arguments);\n      }\n\n      return haha;\n    }()\n  }, {\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _this2 = this;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios({\n                  method: 'GET',\n                  url: 'https://mighty-retreat-21374.herokuapp.com/api/order?token=' + localStorage.getItem(\"token\"),\n                  data: null\n                }).then(function (response) {\n                  // handle success\n                  console.log(\"abc\", response.data); // temsp = response.data.orders.sort(response.data.order.id)\n\n                  var getdata = response.data.orders.splice(response.data.orders.length - 6);\n\n                  _this2.setState({\n                    listOrderRecent: getdata\n                  });\n                }).catch(function (error) {\n                  // handle error\n                  console.log(error);\n                });\n\n              case 2:\n                _context2.next = 4;\n                return axios({\n                  method: 'GET',\n                  url: 'https://mighty-retreat-21374.herokuapp.com/api/trip/city',\n                  data: null\n                }).then(function (response) {\n                  // handle success\n                  _this2.setState({\n                    listCity: response.data.city\n                  });\n\n                  _this2.haha(response.data.city);\n                }).catch(function (error) {\n                  // handle error\n                  console.log(error);\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n\n      return componentWillMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        style: globalStyles.navigation,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 7\n        }\n      }, \"Application / Dashboard\"), /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(RecentlyProducts, {\n        data: this.state.listOrderRecent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        container: true,\n        spacing: 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(NewOrders, {\n        data: Data.dashBoardPage.newOrders,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 14\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(MonthlySales, {\n        data: this.state.listCityTrip,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }]);\n\n  return DashboardPage;\n}(React.Component);\n\n;\nexport default DashboardPage;","map":{"version":3,"sources":["F:/xampp/htdocs/BtlCNWeb/admin/src/pages/DashboardPage.js"],"names":["React","NewOrders","MonthlySales","RecentlyProducts","globalStyles","Grid","Data","axios","DashboardPage","props","state","listOrderid","listOrder","listCity","listOrderRecent","listCityTrip","show","city","cont","i","listTrip_City","city_","method","url","data","then","response","console","log","count","trips","length","push","name","catch","error","setState","localStorage","getItem","getdata","orders","splice","haha","navigation","dashBoardPage","newOrders","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport NewOrders from \"../components/dashboard/NewOrders\";\r\nimport MonthlySales from \"../components/dashboard/MonthlySales\";\r\nimport RecentlyProducts from \"../components/dashboard/RecentlyProducts\";\r\nimport globalStyles from \"../styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Data from \"../data\";\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\nclass DashboardPage extends React.Component {\r\n  \r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        listOrderid: [],\r\n        listOrder: [],\r\n        listCity: [],\r\n        listOrderRecent:[],\r\n        listCityTrip: [],\r\n        show:false\r\n    };\r\n  }\r\n  async haha(city) {\r\n    \r\n    // for (var i =0;i<city.length;i++)\r\n    var cont = true;\r\n    var i=0;\r\n    var listTrip_City=[];\r\n    do    \r\n              {\r\n                cont=false\r\n                  var city_ = city[i];\r\n                  // this.haha(city_,listTrip_City);\r\n\r\n                  await axios({\r\n                    method: 'GET',\r\n                    url: '/api/categories'+city_.city,\r\n                  \r\n                    data: null\r\n                  }).then((response) => {\r\n                      // handle success\r\n                      console.log(\"abc\", response.data);\r\n                      var count = response.data.trips.length\r\n                      listTrip_City.push({name:city_.city,trips:count})\r\n                      i++;\r\n                      cont = true;\r\n                      }).catch((error) => {\r\n                      // handle error\r\n                      console.log(error);\r\n                      \r\n                  });\r\n\r\n                  \r\n                }\r\n                while(i<city.length&&cont===true)\r\n                this.setState({listCityTrip:listTrip_City,\r\n                  show:true\r\n                }) \r\n\r\n    \r\n    // this.setState({listCityTrip:listTrip_City})\r\n    \r\n  }\r\n  async componentWillMount() {\r\n          await axios({\r\n            method: 'GET',\r\n            url: 'https://mighty-retreat-21374.herokuapp.com/api/order?token=' +localStorage.getItem(\"token\"),\r\n          \r\n            data: null\r\n          }).then((response) => {\r\n              // handle success\r\n              console.log(\"abc\", response.data);\r\n              // temsp = response.data.orders.sort(response.data.order.id)\r\n              var getdata = response.data.orders.splice(response.data.orders.length - 6);\r\n              this.setState({\r\n                  listOrderRecent: getdata\r\n              })\r\n          }).catch((error) => {\r\n              // handle error\r\n              console.log(error);\r\n          });\r\n          await axios({\r\n            method: 'GET',\r\n            url: 'https://mighty-retreat-21374.herokuapp.com/api/trip/city',\r\n          \r\n            data: null\r\n          }).then((response) => {\r\n              // handle success\r\n              this.setState({\r\n                  listCity: response.data.city\r\n              })\r\n              this.haha(response.data.city)\r\n                \r\n          }).catch((error) => {\r\n              // handle error\r\n              console.log(error);\r\n          });\r\n    }\r\n\r\n  render()\r\n  {\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h3 style={globalStyles.navigation}>Application / Dashboard</h3>\r\n\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} sm={4}>\r\n          <RecentlyProducts data={this.state.listOrderRecent} />\r\n        </Grid>\r\n        <Grid item xs={12} sm={8} container spacing={0}>\r\n            <Grid item xs={12} sm={12}>\r\n             <NewOrders data={Data.dashBoardPage.newOrders} />\r\n              </Grid>\r\n              <Grid item xs={12} sm={12} >\r\n              <MonthlySales data={this.state.listCityTrip}/>\r\n              </Grid>\r\n\r\n        </Grid>\r\n          \r\n       \r\n      </Grid>\r\n      \r\n     \r\n      \r\n    </div>\r\n  );\r\n  };\r\n};\r\n\r\nexport default DashboardPage;\r\n"]},"metadata":{},"sourceType":"module"}