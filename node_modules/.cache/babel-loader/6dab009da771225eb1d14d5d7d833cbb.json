{"ast":null,"code":"import _classCallCheck from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\xampp\\\\htdocs\\\\BtlCNWeb\\\\admin\\\\src\\\\pages\\\\ListUser.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport UserTableHead from \"./DataTables/UserTableHead\";\nimport UserTableToolbar from \"./DataTables/UserTableToolbar\";\nimport axios from 'axios';\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport Typography from '@material-ui/core/Typography';\nimport FormControl from '@material-ui/core/FormControl';\nimport { Avatar, Box, Button } from \"@material-ui/core\";\nimport * as StringConstant from './String';\n\nvar desc = function desc(a, b, orderBy) {\n  if (orderBy === \"role\") {\n    if (b[orderBy][\"name\"] < a[orderBy][\"name\"]) {\n      return -1;\n    }\n\n    if (b[orderBy][\"name\"] > a[orderBy][\"name\"]) {\n      return 1;\n    }\n\n    return 0;\n  }\n\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n\n  return 0;\n};\n\nvar stableSort = function stableSort(array, cmp) {\n  var stabilizedThis = array.map(function (el, index) {\n    return [el, index];\n  });\n  stabilizedThis.sort(function (a, b) {\n    var order = cmp(a[0], b[0]);\n    if (order !== 0) return order;\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(function (el) {\n    return el[0];\n  });\n};\n\nvar getSorting = function getSorting(order, orderBy) {\n  return order === \"desc\" ? function (a, b) {\n    return desc(a, b, orderBy);\n  } : function (a, b) {\n    return -desc(a, b, orderBy);\n  };\n};\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: \"100%\",\n      marginTop: theme.spacing(3)\n    },\n    table: {\n      minWidth: 1020\n    },\n    tableWrapper: {\n      overflowX: \"auto\"\n    }\n  };\n};\n\nvar ListUser = /*#__PURE__*/function (_React$Component) {\n  _inherits(ListUser, _React$Component);\n\n  function ListUser(props) {\n    var _this;\n\n    _classCallCheck(this, ListUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListUser).call(this, props));\n\n    _this.handleRequestSort = function (event, property) {\n      var orderBy = property;\n      console.log(property);\n      var order = \"desc\";\n\n      if (_this.state.orderBy === property && _this.state.order === \"desc\") {\n        order = \"asc\";\n      }\n\n      _this.setState({\n        order: order,\n        orderBy: orderBy\n      });\n    };\n\n    _this.handleChangePage = function (event, page) {\n      _this.setState({\n        page: page\n      });\n    };\n\n    _this.handleChangeRowsPerPage = function (event) {\n      _this.setState({\n        rowsPerPage: event.target.value\n      });\n    };\n\n    _this.onClickBan = function (event) {\n      axios({\n        method: 'DELETE',\n        url: '/api/admin/user/delete',\n        data: {\n          \"id\": event\n        },\n        headers: {\n          Authorization: \"Bearer\" + localStorage.getItem(\"token\")\n        }\n      }).then(function (res) {\n        window.location.reload();\n      });\n    };\n\n    _this.state = {\n      order: \"asc\",\n      orderBy: \"name\",\n      page: 0,\n      rowsPerPage: 15,\n      userList_origin: [],\n      userList: [],\n      query: \"\",\n      keyfilter: \"name\"\n    };\n    return _this;\n  }\n\n  _createClass(ListUser, [{\n    key: \"bodauTiengViet\",\n    value: function bodauTiengViet(str) {\n      str = str.toLowerCase();\n      str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, 'a');\n      str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, 'e');\n      str = str.replace(/ì|í|ị|ỉ|ĩ/g, 'i');\n      str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, 'o');\n      str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, 'u');\n      str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, 'y');\n      str = str.replace(/đ/g, 'd'); // str = str.replace(/\\W+/g, ' ');\n      // str = str.replace(/\\s/g, '-');\n\n      return str;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios({\n        method: 'GET',\n        url: '/api/admin/user',\n        headers: {\n          Authorization: \"Bearer\" + localStorage.getItem(\"token\")\n        },\n        data: null\n      }).then(function (response) {\n        // handle success\n        console.log(\"abc\", response.data.users);\n\n        _this2.setState({\n          userList_origin: response.data.users // userList: response.data.trips\n\n        });\n\n        _this2.setState({\n          userList: _this2.state.userList_origin\n        });\n\n        console.log(_this2.state.userList.length);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var classes = this.props.classes;\n      var _this$state = this.state,\n          userList = _this$state.userList,\n          userList_origin = _this$state.userList_origin,\n          order = _this$state.order,\n          orderBy = _this$state.orderBy,\n          rowsPerPage = _this$state.rowsPerPage,\n          page = _this$state.page;\n      var emptyRows = rowsPerPage - Math.min(rowsPerPage, userList.length - page * rowsPerPage);\n      return /*#__PURE__*/React.createElement(Paper, {\n        className: classes.root,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        size: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          paddingTop: 35,\n          paddingLeft: \"5%\",\n          width: \"30%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"subtitle2\",\n        component: \"div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }\n      }, \"Search For...\")), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        label: \"Name\",\n        value: this.state.query,\n        onChange: function onChange(e) {\n          return _this3.setState({\n            query: e.target.value,\n            userList: e.target.value ? userList_origin.filter(function (x) {\n              return _this3.bodauTiengViet(x[_this3.state.keyfilter] !== null ? x[_this3.state.keyfilter] : \"\").includes(_this3.bodauTiengViet(e.target.value));\n            }) : userList_origin\n          });\n        },\n        margin: \"normal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(FormControl, {\n        className: classes.formControl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        style: {\n          marginLeft: \"1em\",\n          marginTop: \"2em\"\n        } // hintText=\"Select\"\n        ,\n        value: this.state.keyfilter,\n        onChange: function onChange(e) {\n          return _this3.setState({\n            keyfilter: e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 19\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 19\n        }\n      }, \"Email\")))))))), /*#__PURE__*/React.createElement(UserTableToolbar, {\n        classes: this.classes,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.tableWrapper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        className: classes.table,\n        \"aria-labelledby\": \"tableTitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(UserTableHead, {\n        order: order,\n        orderBy: orderBy,\n        onRequestSort: this.handleRequestSort,\n        rowCount: userList.length,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(TableBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }\n      }, stableSort(this.state.query ? userList : this.state.userList_origin, getSorting(order, orderBy)).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(function (n) {\n        return /*#__PURE__*/React.createElement(TableRow, {\n          tabIndex: -1,\n          key: n.id,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(TableCell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(Box, {\n          alignItems: \"center\",\n          display: \"flex\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(Avatar, {\n          className: classes.avatar,\n          src: StringConstant.IMAGE_PATH + n.avatar,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 23\n          }\n        }), /*#__PURE__*/React.createElement(Typography, {\n          style: {\n            paddingLeft: 20\n          },\n          color: \"textPrimary\",\n          variant: \"body1\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          key: n.name,\n          to: \"/admin/home/userdetail/\".concat(n.id),\n          onClick: function onClick() {\n            return localStorage.setItem(\"admin_user\", String(n.id));\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 25\n          }\n        }, n.name)))), /*#__PURE__*/React.createElement(TableCell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 23\n          }\n        }, n.email), /*#__PURE__*/React.createElement(TableCell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 23\n          }\n        }, n.roles.map(function (role) {\n          return role.name;\n        })), /*#__PURE__*/React.createElement(TableCell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 23\n          }\n        }, n.created_at), /*#__PURE__*/React.createElement(TableCell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 23\n          }\n        }, n.deleted_at), /*#__PURE__*/React.createElement(TableCell, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 23\n          }\n        }, n.deleted_at ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 27\n          }\n        }, \"UnBan\")) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n          variant: \"contained\",\n          color: \"secondary\",\n          onClick: function onClick() {\n            return _this3.onClickBan(n.id);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 27\n          }\n        }, \"Ban\"))));\n      }), emptyRows > 0 && /*#__PURE__*/React.createElement(TableRow, {\n        style: {\n          height: 49 * emptyRows\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        colSpan: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 19\n        }\n      }))))), /*#__PURE__*/React.createElement(TablePagination, {\n        rowsPerPageOptions: [5, 10, 25],\n        component: \"div\",\n        count: userList.length,\n        rowsPerPage: rowsPerPage,\n        page: page,\n        backIconButtonProps: {\n          \"aria-label\": \"Previous Page\"\n        },\n        nextIconButtonProps: {\n          \"aria-label\": \"Next Page\"\n        },\n        onChangePage: this.handleChangePage,\n        onChangeRowsPerPage: this.handleChangeRowsPerPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return ListUser;\n}(React.Component);\n\nListUser.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(ListUser);","map":{"version":3,"sources":["F:/xampp/htdocs/BtlCNWeb/admin/src/pages/ListUser.js"],"names":["React","Link","PropTypes","withStyles","Table","TableBody","TableCell","TablePagination","TableRow","Paper","UserTableHead","UserTableToolbar","axios","MenuItem","TextField","Select","Typography","FormControl","Avatar","Box","Button","StringConstant","desc","a","b","orderBy","stableSort","array","cmp","stabilizedThis","map","el","index","sort","order","getSorting","styles","theme","root","width","marginTop","spacing","table","minWidth","tableWrapper","overflowX","ListUser","props","handleRequestSort","event","property","console","log","state","setState","handleChangePage","page","handleChangeRowsPerPage","rowsPerPage","target","value","onClickBan","method","url","data","headers","Authorization","localStorage","getItem","then","res","window","location","reload","userList_origin","userList","query","keyfilter","str","toLowerCase","replace","response","users","length","catch","error","classes","emptyRows","Math","min","paddingTop","paddingLeft","e","filter","x","bodauTiengViet","includes","formControl","marginLeft","slice","n","id","avatar","IMAGE_PATH","name","setItem","String","email","roles","role","created_at","deleted_at","height","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\n\r\nimport UserTableHead from \"./DataTables/UserTableHead\";\r\nimport UserTableToolbar from \"./DataTables/UserTableToolbar\";\r\n\r\n\r\nimport axios from 'axios';\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport {Avatar,Box, Button} from \"@material-ui/core\";\r\nimport * as StringConstant from './String';\r\n  \r\nconst desc = (a, b, orderBy) => {\r\n  if(orderBy===\"role\"){\r\n    if (b[orderBy][\"name\"] < a[orderBy][\"name\"]) {\r\n\r\n      return -1;\r\n    }\r\n    if (b[orderBy][\"name\"] > a[orderBy][\"name\"]) {\r\n  \r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n  if (b[orderBy] < a[orderBy]) {\r\n\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n\r\n    return 1;\r\n  }\r\n  return 0;\r\n};\r\n\r\nconst stableSort = (array, cmp) => {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = cmp(a[0], b[0]);\r\n    \r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map(el => el[0]);\r\n};\r\n\r\nconst getSorting = (order, orderBy) => {\r\n  return order === \"desc\"\r\n    ? (a, b) => desc(a, b, orderBy)\r\n    : (a, b) => -desc(a, b, orderBy);\r\n};\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3)\r\n  },\r\n  table: {\r\n    minWidth: 1020\r\n  },\r\n  tableWrapper: {\r\n    overflowX: \"auto\"\r\n  }\r\n});\r\n\r\nclass ListUser extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      order: \"asc\",\r\n      orderBy: \"name\",\r\n      page: 0,\r\n      rowsPerPage: 15,\r\n      userList_origin: [],\r\n      userList: [],\r\n      query:\"\",\r\n      keyfilter: \"name\"\r\n    }\r\n  } \r\n\r\n \r\n \r\n  bodauTiengViet(str) {\r\n    str = str.toLowerCase();\r\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, 'a');\r\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, 'e');\r\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, 'i');\r\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, 'o');\r\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, 'u');\r\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, 'y');\r\n    str = str.replace(/đ/g, 'd');\r\n    // str = str.replace(/\\W+/g, ' ');\r\n    // str = str.replace(/\\s/g, '-');\r\n    return str;\r\n  }\r\n  componentDidMount() {\r\n    axios({\r\n        method: 'GET',\r\n        url: '/api/admin/user',\r\n        headers : {\r\n          Authorization: \"Bearer\" + localStorage.getItem(\"token\")\r\n        },\r\n        data: null\r\n    }).then((response) => {\r\n        // handle success\r\n        console.log(\"abc\", response.data.users);\r\n        this.setState({\r\n            userList_origin: response.data.users,\r\n            // userList: response.data.trips\r\n        })\r\n        this.setState({\r\n          userList: this.state.userList_origin\r\n      })\r\n      console.log(this.state.userList.length)\r\n    }).catch((error) => {\r\n        // handle error\r\n        console.log(error);\r\n    });\r\n    }\r\n    \r\n  handleRequestSort = (event, property) => {\r\n    const orderBy = property;\r\n    \r\n    console.log(property)\r\n    let order = \"desc\";\r\n\r\n    if (this.state.orderBy === property && this.state.order === \"desc\") {\r\n      order = \"asc\";\r\n    }\r\n\r\n    this.setState({ order, orderBy });\r\n  };\r\n\r\n  handleChangePage = (event, page) => {\r\n    this.setState({ page });\r\n  };\r\n\r\n  handleChangeRowsPerPage = event => {\r\n    this.setState({ rowsPerPage: event.target.value });\r\n  };\r\n\r\n  onClickBan=(event) =>{\r\n    axios({\r\n      method : 'DELETE',\r\n      url : '/api/admin/user/delete',\r\n      data : {\r\n        \"id\" : event\r\n      },\r\n      headers : {\r\n        Authorization: \"Bearer\" + localStorage.getItem(\"token\")\r\n      },\r\n    }).then(res =>{\r\n      window.location.reload()\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    \r\n    const { classes } = this.props;\r\n    const {userList, userList_origin, order, orderBy, rowsPerPage, page } = this.state;\r\n    const emptyRows =\r\n      rowsPerPage - Math.min(rowsPerPage, userList.length - page * rowsPerPage);\r\n    \r\n    return (\r\n     \r\n      <Paper className={classes.root}>\r\n        <div >\r\n        <table size=\"small\">\r\n          <tbody>\r\n            <tr>\r\n              <td style={{paddingTop:35, paddingLeft:\"5%\", width: \"30%\"}}>\r\n                <Typography variant=\"subtitle2\" component=\"div\">\r\n                  Search For...\r\n                </Typography>  \r\n              </td>\r\n              <td>\r\n              <TextField\r\n                label=\"Name\"\r\n                value={this.state.query}\r\n                onChange={e => this.setState({ query: e.target.value,\r\n                userList: e.target.value? userList_origin.filter(x =>\r\n                  this.bodauTiengViet(x[this.state.keyfilter]!==null?x[this.state.keyfilter]:\"\").includes(this.bodauTiengViet(e.target.value))): userList_origin})}\r\n                margin=\"normal\"/>\r\n              <FormControl className={classes.formControl}>\r\n                <Select\r\n                  style={{ marginLeft: \"1em\",\r\n                  marginTop:\"2em\" }}\r\n                  // hintText=\"Select\"\r\n                  value={this.state.keyfilter}\r\n                  onChange={e =>\r\n                    this.setState({ keyfilter: e.target.value })\r\n                  }\r\n                >\r\n                  <MenuItem value=\"name\">Name</MenuItem> \r\n                  <MenuItem value=\"email\">Email</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n          </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n          </div>\r\n        <UserTableToolbar classes={this.classes} />\r\n        <div className={classes.tableWrapper}>\r\n          <Table className={classes.table} aria-labelledby=\"tableTitle\">\r\n            <UserTableHead\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onRequestSort={this.handleRequestSort}\r\n              rowCount={userList.length}\r\n            />\r\n            <TableBody>\r\n              {stableSort(this.state.query\r\n                ? userList\r\n                : this.state.userList_origin, getSorting(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map(n => {\r\n                  return (\r\n                    <TableRow\r\n                      tabIndex={-1}\r\n                      key={n.id}\r\n                    >\r\n                      <TableCell>\r\n                      <Box\r\n                      alignItems=\"center\"\r\n                      display=\"flex\"\r\n                    >\r\n                      <Avatar\r\n                        className={classes.avatar}\r\n                        src={StringConstant.IMAGE_PATH + n.avatar}\r\n                      >\r\n                      </Avatar>\r\n                      <Typography\r\n                      style={{paddingLeft:20}}\r\n                        color=\"textPrimary\"\r\n                        variant=\"body1\"\r\n                      >\r\n                        <Link key={n.name} to={`/admin/home/userdetail/${n.id}`}onClick={() => localStorage.setItem(\"admin_user\", String(n.id))}>{n.name}</Link>\r\n                      </Typography>\r\n                    </Box>\r\n                        \r\n                      </TableCell>\r\n                      <TableCell>{n.email}</TableCell>\r\n                      <TableCell>{n.roles.map(role=> {\r\n                        return role.name\r\n                      })}</TableCell>\r\n                      <TableCell>{n.created_at}</TableCell>\r\n                      <TableCell>\r\n                        {n.deleted_at}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {n.deleted_at ? \r\n                        <>\r\n                          <Button variant=\"contained\" color=\"primary\">UnBan</Button>\r\n                        </>\r\n                        :\r\n                        <>\r\n                          <Button variant=\"contained\" color=\"secondary\" onClick={()=>this.onClickBan(n.id)}>Ban</Button>\r\n                        </>}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: 49 * emptyRows }}>\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </div>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={userList.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          backIconButtonProps={{\r\n            \"aria-label\": \"Previous Page\"\r\n          }}\r\n          nextIconButtonProps={{\r\n            \"aria-label\": \"Next Page\"\r\n          }}\r\n          onChangePage={this.handleChangePage}\r\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nListUser.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(ListUser);\r\n"]},"metadata":{},"sourceType":"module"}